{{#if model}}
<div class='entity-editor'>
  <div class='entity-header'>
    <div class='col-md-1'></div>
    <div class='col-md-6'>
    <div class="input-group col-md-6">
      <span class="input-group-addon input-sm">Name:</span>
      {{input value=name class="form-control input-sm" id="entity-name" placeholder="name" type="text" focus-out="acceptChanges" insert-newline="acceptChanges"}}
    </div>
    </div>
    <div class='col-md-5'>
      <button type="button" class="btn btn-default btn-sm btn-danger" id='del-entity' {{action "deleteEntity"}}>
          <i class="fa fa-trash-o" aria-hidden="true"></i>
      </button>
    </div>
  </div>
  <div class='entity-attributes'>
    <div class='attributes-title'>Attributes:</div>
    <div class='primary-key'>
      <div class="input-group col-md-6">
        <span class="input-group-addon input-sm">Primary Key:</span>
        {{input value=primaryKey class="form-control input-sm" placeholder="primaryKey" type="text" focus-out="acceptChanges" insert-newline="acceptChanges"}}
      </div>
    </div>
    <div class='table-entity-attributes'>
      <table class='table table-hover'>
          <thead>
            <tr id='attribute_header'>
              <th class='col-md-1'>#</th>
              <th class='col-md-3'>Name</th>
              <th class='col-md-3'>Type</th>
              <th class='col-md-2'></th>
            </tr>
          </thead>
          <tbody>
            {{#each item in model.entityAttributes }}
            <tr class='attribute_row'>
              <th class='col-md-1'>{{_view.contentIndex}}</th>
              <th class='col-md-3'>{{item.name}}</th>
              <th class='col-md-3'>{{item.type}}</th>
              <th class='col-md-2' id='rec_controls'>
                <button type="button" class="btn btn-default btn-sm" id='del_record_button' {{action "deleteAttribute" item.id }}>
                    <i class="fa fa-trash-o" aria-hidden="true"></i>
                </button>
              </th>
            </tr>
            {{/each}}
            {{#if isCreatingAttribute}}
            <tr id='record_row'>
              <th class='col-md-1'>{{_view.contentIndex}}</th>
              <th class='col-md-3'>{{focus-input value=attributeName class="form-control input-sm"}}</th>
              <th class='col-md-3'>
                {{view Ember.Select
                  content=types
                  class="form-control input-sm"
                  value=attributeType
                }}
              </th>
              <th class='col-md-2' id='rec_controls'>
              {{#if isNameValid}}
                  <span class="input-group-btn">
                      <button type="button" class="btn btn-default btn-sm" {{action "createAttribute"}}>
                          <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>
                      </button>
                      <button type="button" class="btn btn-default btn-sm" {{action "setCreatingAttribute" false}}>
                          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                      </button>
                  </span>
              {{else}}
                invalid name
              {{/if}}
              </th>
            </tr>
            {{/if}}
            <tr>
              <th class='col-md-1'></th>
              <th class='col-md-3'></th>
              <th class='col-md-3'></th>
              <th class='col-md-2' id='rec_controls'>
                <div class="btn-group">
                  <button type="button" class="btn btn-default btn-sm" {{action "setCreatingAttribute" true}}>
                      <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                  </button>
                </div>
              </th>
            </tr>
          </tbody>
      </table>
    </div>
  </div>
  <div class='entity-relationships'>
    <div class='relationships-title'>Relationships:</div>
    {{outlet}}
  </div>
</div>
{{/if}}
